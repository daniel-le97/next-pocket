(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{39321:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/server/[id]/join",function(){return n(5314)}])},5314:function(e,r,n){"use strict";n.r(r);var t=n(85893),i=n(50828),u=n(11163),c=n(67294),s=n(50229),a=n(79790),o=n(64879),l=n(55726);let d=()=>{let e=s.a.user,r=(0,u.useRouter)(),n=r.query.id;return(0,c.useEffect)(()=>{if(n){let t=async()=>{await l.u.getById(n)};if(!e){s.a.lastPath="server/".concat(r.query.id,"/join"),r.push("/login");return}let i=async()=>{try{let i={user:e.id,server:n},u=await o.C.joinServer(i),c=null==u?void 0:u.new;if(c){var t;a.Z.success("Welcome to ".concat(null===(t=s.a.activeServer)||void 0===t?void 0:t.name))}r.push("/server/".concat(n))}catch(e){a.Z.error(e,"server/".concat(n,"/join"))}};t(),i()}},[r,n]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:"loading..."})})};r.default=(0,i.Pi)(d)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=39321)}),_N_E=e.O()}]);