(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{88070:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AccountPage",function(){return l(81916)}])},88669:function(e,t,l){"use strict";var s=l(85893);t.Z=e=>{let{avatarUrl:t,width:l,height:a}=e;return(0,s.jsx)("img",{src:t,alt:"User Avatar",className:"rounded-full ".concat(l," ").concat(a," object-cover shadow-md  ")})}},81916:function(e,t,l){"use strict";l.r(t);var s=l(85893),a=l(50828),i=l(67294),n=l(87536),r=l(19782),c=l(37111),d=l(93737),o=l(44080),u=l(84536),x=l(58444),m=l(11163),h=l.n(m),v=l(88669);let EditAccount=()=>{let e=x.a.user,[t,l]=(0,i.useState)(!1),{register:a,handleSubmit:d,watch:m,setValue:h,reset:v,formState:{errors:f}}=(0,n.cI)({defaultValues:{username:null==e?void 0:e.username,emailVisibility:!1,currentChannel:null==e?void 0:e.currentChannel,avatarUrl:null==e?void 0:e.avatarUrl}}),onSubmit=async e=>{try{await c.B.update(e)}catch(e){r.Z.error(e)}};return(0,s.jsxs)("div",{className:" flex w-full flex-col items-center justify-center",children:[(0,s.jsx)(o.u,{appear:!0,show:t,as:i.Fragment,children:(0,s.jsxs)(u.V,{as:"div",className:"relative z-10",onClose:()=>l(!1),children:[(0,s.jsx)(o.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,s.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,s.jsx)(o.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,s.jsxs)(u.V.Panel,{className:"dialog-modal",children:[(0,s.jsx)(u.V.Title,{as:"h3",className:"dialog-title",children:"Edit Account"}),(0,s.jsxs)("form",{onSubmit:d(onSubmit),className:"  flex flex-col gap-y-5 rounded p-5 text-gray-300",children:[(0,s.jsxs)("div",{className:"flex flex-col text-start ",children:[(0,s.jsx)("label",{children:"UserName"}),(0,s.jsx)("input",{type:"text",...a("username",{minLength:3,maxLength:30,required:!0})})]}),(0,s.jsxs)("div",{className:"flex flex-col text-start",children:[(0,s.jsx)("label",{children:"AvatarUrl"}),(0,s.jsx)("input",{...a("avatarUrl",{required:!0}),type:"url"})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)("button",{type:"submit",className:"btn-primary",children:"Submit"})})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>l(!1),children:"Cancel"})})]})})})})]})}),(0,s.jsxs)("button",{className:"btn-primary",onClick:()=>l(!0),children:[" ","Edit"]})]})};t.default=(0,a.Pi)(function(){let e=x.a.user;x.a.userServers;let[t,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{e||h().push("/");let fetchUserServers=async()=>{try{await d.C.getUserServers(e.id)}catch(e){r.Z.error(e)}};fetchUserServers()},[]),(0,s.jsxs)("main",{className:"  min-h-screen w-full   dark:bg-zinc-800",children:[(0,s.jsxs)("div",{className:"p-5 ",children:[(0,s.jsx)("div",{className:"text-4xl font-bold dark:text-gray-300 text-center",children:"My Account"}),(0,s.jsxs)("div",{className:"bg-zinc-700 rounded mt-10 shadow-md flex flex-col items-center justify-center p-5 text-center  text-gray-400 ",children:[(0,s.jsx)(v.Z,{avatarUrl:null==e?void 0:e.avatarUrl,width:"w-48",height:"h-48"}),(0,s.jsxs)("div",{className:" mt-2 flex flex-col  gap-y-5  p-5 text-start text-xl font-bold",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-sm",children:"USERNAME"}),(0,s.jsxs)("div",{className:"",children:[" ",null==e?void 0:e.username]})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"text-sm",children:"EMAIL"}),(0,s.jsx)("div",{className:"ml-2",children:(()=>{if(t)return null==e?void 0:e.email;{var l,s,a;let t=null==e?void 0:null===(l=e.email)||void 0===l?void 0:l.indexOf("@"),i=null==e?void 0:null===(s=e.email)||void 0===s?void 0:s.substring(t),n=null==e?void 0:null===(a=e.email)||void 0===a?void 0:a.substring(0,t),r="*".repeat(n.length);return"".concat(r).concat(i)}})()}),(0,s.jsx)("button",{className:"ml-2 text-sm text-indigo-500  ",onClick:()=>{l(!t)},children:t?"Show":"Hide"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-sm",children:"MEMBER SINCE"}),(0,s.jsxs)("div",{className:"",children:[" ",new Date(null==e?void 0:e.created).toLocaleDateString()]})]})]})]})]}),(0,s.jsx)(EditAccount,{})]})})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=88070)}),_N_E=e.O()}]);