(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{83236:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(30933)}])},30933:function(e,s,t){"use strict";t.r(s);var a=t(85893),n=t(50828),l=t(67294),r=t(47472),c=t(50229),i=t(41664),o=t.n(i),u=t(11163),d=t(44217),h=t(48699),m=t(64879);let x=e=>{let{user:s}=e;return null!=c.a.user?(0,a.jsxs)("div",{className:"container mt-5  flex w-1/2 flex-col items-center justify-center rounded-lg bg-slate-300 p-3",children:[(0,a.jsx)("h1",{className:"my-3 font-bold",children:"Welcome!"}),(0,a.jsx)("h2",{children:s.username}),(0,a.jsx)("img",{className:"w-1/4 rounded-full",src:s.avatarUrl,alt:s.username}),(0,a.jsxs)("p",{children:["Email: ",s.email]}),(0,a.jsxs)("p",{children:["UserName: ",s.username]}),(0,a.jsx)(o(),{href:"/AccountPage",children:"Visit Account Page "})]}):(0,a.jsx)("div",{})};s.default=(0,n.Pi)(function(){let[e,s]=(0,l.useState)(""),[t,n]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),f=(0,u.useRouter)();async function p(){try{let s=await r.pb.collection("users").authWithPassword(e,i);console.log(s),c.a.user=s.record,c.a.user.token=s.token,console.log(c.a.user),await m.C.getUserServers(s.record.id);let t=(0,h.v)();f.push(t)}catch(e){console.error(e)}}async function g(){try{let s=await r.pb.collection("users").create({username:e,password:i,email:t,avatarUrl:"https://api.dicebear.com/5.x/bottts-neutral/svg?seed=".concat(e),passwordConfirm:i}),a={user:s.id,isOnline:!0};await r.pb.collection(d.nW.UsersStatus).create(a),await p()}catch(e){console.error(e)}}return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{className:"  dark flex  min-h-screen w-full flex-col  items-center justify-center bg-gray-300 dark:bg-zinc-900",children:[(0,a.jsxs)("div",{className:"shadow-grey-900  container  flex w-1/2   flex-col items-center justify-center  rounded-lg bg-gray-200 p-5 shadow-2xl",children:[(0,a.jsx)("h1",{className:"my-10 text-4xl font-bold ",children:"Login"}),(0,a.jsxs)("form",{className:"flex flex-col gap-y-5",onSubmit:e=>{e.preventDefault()},children:[(0,a.jsx)("input",{placeholder:"Username",type:"text",value:e,className:"login-input",onChange:e=>s(e.target.value)}),(0,a.jsx)("input",{placeholder:"Email",type:"text",value:t,className:"login-input",onChange:e=>n(e.target.value)}),(0,a.jsx)("input",{placeholder:"Password",type:"password",value:i,className:"login-input",onChange:e=>o(e.target.value)}),(0,a.jsx)("button",{onClick:g,children:"Sign Up"}),(0,a.jsx)("button",{onClick:p,children:"Login"})]})]}),(0,a.jsx)("div",{className:"container flex items-center justify-center",children:(0,a.jsx)(x,{user:c.a.user})}),(0,a.jsx)("div",{className:"shape-blob"}),(0,a.jsx)("div",{className:"shape-blob one"}),(0,a.jsx)("div",{className:"shape-blob two"})]})})})},48699:function(e,s,t){"use strict";t.d(s,{A:function(){return l},v:function(){return n}});var a=t(50229);let n=()=>{let e=a.a.lastPath;return e||"/"},l=e=>(a.a.lastPath=e,e)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=83236)}),_N_E=e.O()}]);