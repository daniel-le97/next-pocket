"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{27564:function(e,s,a){a.d(s,{Z:function(){return f}});var t=a(85893),l=a(67294),i=a(50828),r=a(58444),n=a(38294),c=a(27856),o=a.n(c),d=a(87536),u=a(19782),m=a(31089),CreateMessage_MessageAttachments=e=>{let{messageAttachmentRecords:s,deleteMessageAttachment:a}=e;return s.length?(0,t.jsx)("div",{className:"absolute bottom-14  my-2 flex justify-center space-x-4 rounded bg-zinc-900 p-2 text-gray-300",children:(0,t.jsx)("div",{className:"relative flex space-x-2",children:s.map(e=>(0,t.jsx)("div",{className:"",children:(0,t.jsx)("img",{src:e.url,alt:"Uploaded File Image",className:" h-44 w-44 rounded border-2 border-zinc-900 object-cover"})},e.url))})}):(0,t.jsx)("div",{className:""})},h=a(61528),x=a(89583),CreateMessage_TextFormattingToolbar=e=>{let{selectedText:s,insertMarkdown:a}=e;return s?(0,t.jsxs)("div",{className:"absolute -top-11  my-2 flex justify-center rounded bg-zinc-900  text-gray-300",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-zinc-800",type:"button",onClick:()=>a("**","**",s),children:(0,t.jsx)(h.ZP,{content:"Bold",color:"invert",placement:"top",children:(0,t.jsx)(x.PKR,{})})}),(0,t.jsx)("button",{className:"p-2 hover:bg-zinc-800",type:"button",onClick:()=>a("*","*",s),children:(0,t.jsx)(h.ZP,{content:"Italic",color:"invert",placement:"top",children:(0,t.jsx)(x.Mef,{})})}),(0,t.jsx)("button",{className:"p-2 hover:bg-zinc-800",type:"button",onClick:()=>a("~~","~~",s),children:(0,t.jsx)(h.ZP,{content:"StrikeThrough",color:"invert",placement:"top",children:(0,t.jsx)(x.zal,{})})})]}):(0,t.jsx)("div",{})},g=a(44080),p=a(84536),v=(0,i.Pi)(()=>{let[e,s]=(0,l.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.ZP,{content:"Messaging GuideLine",color:"invert",placement:"top",children:(0,t.jsx)(x.MXt,{size:18,className:"dark:text-gray-300",onClick:()=>s(!0)})}),(0,t.jsx)(g.u,{appear:!0,show:e,as:l.Fragment,children:(0,t.jsxs)(p.V,{as:"div",className:"relative z-10",onClose:()=>s(!1),children:[(0,t.jsx)(g.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,t.jsx)(g.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(p.V.Panel,{className:"dialog-modal",children:[(0,t.jsx)(p.V.Title,{as:"h3",className:"dialog-title",children:"Messaging Guidelines"}),(0,t.jsx)("div",{className:" p-2 text-gray-900 dark:text-gray-300 ",children:(0,t.jsxs)("ul",{className:"ml-4 list-disc",children:[(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"**text**"})," for bold text."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"_text_"})," for italic text."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"~~text~~"})," for strikethrough text."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"`code`"})," for inline code."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"``` code ```"})," for code blocks."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"#"})," for heading 1, ",(0,t.jsx)("code",{children:"##"})," for heading 2, and so on."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"-"})," or ",(0,t.jsx)("code",{children:"*"})," for unordered lists."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"1."})," or ",(0,t.jsx)("code",{children:"1)"})," for ordered lists."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"[text](url)"})," or ",(0,t.jsx)("code",{children:"<url>"})," ","for links."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:"![alt text](image url)"})," for images."]}),(0,t.jsxs)("li",{children:["Use ",(0,t.jsx)("code",{children:" [![](image url)](image url)"})," for Link images."]})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>s(!1),children:"Cancel"})})]})})})})]})})]})}),CreateMessage_CreateMessageToolbar=e=>{let{characterCount:s,handleFileChange:a}=e;return(0,t.jsx)("div",{className:"absolute -top-7 right-2 ",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,t.jsx)("div",{className:"  ",children:(0,t.jsxs)(h.ZP,{content:"Upload image",color:"invert",placement:"top",children:[(0,t.jsx)(x.sYB,{size:18,className:"dark:text-gray-300"}),(0,t.jsx)("input",{type:"file",accept:"image/*",className:"absolute left-0 top-0 h-full  w-1 cursor-pointer opacity-0",onChange:a})]})}),(0,t.jsx)(v,{}),(0,t.jsxs)("div",{id:"charLimit",className:"  font-semibold  text-sm   ".concat(s<=2400?"dark:text-zinc-300":"text-red-400"),children:[s,"/2400"]})]})})},j=a(11163),f=(0,i.Pi)(()=>{let[e,s]=(0,l.useState)(""),[a,i]=(0,l.useState)(-1),[c,h]=(0,l.useState)(-1),x=r.a.user,g=(0,j.useRouter)(),[p,v]=(0,l.useState)(0),[f,b]=(0,l.useState)([]),y={user:null==x?void 0:x.id,content:"",attachments:[""]},{register:N,handleSubmit:w,reset:k,setValue:M}=(0,d.cI)({defaultValues:y}),sendMessage=async e=>{try{let a=document.getElementById("createMessageInput");if(e.content=function(e){var s;let a=null!==(s=e.replace(/(https?:\/\/.*\.(?:png|jpg|jpeg|gif|webp))(?=[^\s]*\s)/g,"![$1]($1)"))&&void 0!==s?s:"",t=o().sanitize(a);return t}(e.content),g.pathname.includes("DirectMessages"))e.friendRecord=g.query.id,await m.bK.createDirectMessage(e);else{var s;e.channel=null===(s=r.a.activeChannel)||void 0===s?void 0:s.id,await n.l.sendMessage(e,f)}k(),a.style.height="initial",v(0),b([])}catch(e){u.Z.error(e)}};(0,l.useEffect)(()=>{e&&console.log(e)},[e]);let deleteMessageAttachment=async e=>{try{var s;await m.TQ.deleteFile((null===r.a||void 0===r.a?void 0:null===(s=r.a.user)||void 0===s?void 0:s.id)||"",e),b([]),M("attachments",[""])}catch(e){u.Z.error(e)}},handleFileChange=async e=>{let s=document.getElementById("createMessageInput"),a=await m.TQ.uploadFile(e.target.files),t=null==a?void 0:a.id;M("attachments",[t]),b([...f,a]),s.value=s.value+"![".concat(null==a?void 0:a.url,"](").concat(null==a?void 0:a.url,")")};return(0,t.jsx)("div",{className:" absolute  bottom-2  max-h-full w-full     ",children:(0,t.jsx)("form",{onSubmit:w(sendMessage),className:"relative mx-4  flex",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{id:"createMessageInput",rows:1,className:"create-message-input",...N("content",{required:!0,maxLength:2400,minLength:3}),onInput:e=>{let s=e.target;s.style.height="auto",s.style.height="".concat(s.scrollHeight,"px"),v(s.value.length),p>=2400&&e.preventDefault();let a=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.test(s.value);a&&(s.value=s.value.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gm,""))},onKeyDown:async e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),await w(sendMessage)())},onSelect:e=>{let a=e.target,t=a.value.slice(a.selectionStart,null==a?void 0:a.selectionEnd);s(t),i(null==a?void 0:a.selectionStart),h(null==a?void 0:a.selectionEnd)}}),(0,t.jsx)(CreateMessage_TextFormattingToolbar,{selectedText:e,insertMarkdown:(s,t,l)=>{if(-1!==a&&-1!==c){let r=l.substring(0,a),n=s+e+t,o=l.substring(c),d=r+n+o;i(-1),h(-1);let u=document.getElementById("createMessageInput");return l.includes(s)&&l.includes(t)&&(d=r+e+o),u.value=d,u.setSelectionRange(r.length,r.length+e.length),d}}}),(0,t.jsx)(CreateMessage_MessageAttachments,{messageAttachmentRecords:f,deleteMessageAttachment:deleteMessageAttachment}),(0,t.jsx)(CreateMessage_CreateMessageToolbar,{characterCount:p,handleFileChange:handleFileChange}),(0,t.jsx)("button",{type:"submit",className:"btn-primary absolute bottom-2 right-2 ",children:"Submit"})]}):(0,t.jsx)("div",{className:""})})})})},87313:function(e,s,a){a.d(s,{Z:function(){return L}});var t=a(85893),l=a(50828),i=a(11163),r=a(58533),n=a(58444),c=a(31089),o=a(18532),d=a(3688),u=a(61528),m=a(63750),h=a(19782),x=(0,l.Pi)(e=>{let{messageId:s}=e,a=(0,i.useRouter)(),l=a.pathname.includes("DirectMessages"),deleteMessage=async()=>{try{let e=await h.Z.confirm();if(!e)return;l?await c.bK.deleteDirectMessage(s):await c.lt.deleteMessage(s)}catch(e){h.Z.error(e)}};return(0,t.jsx)("div",{className:"message-options-icon  group/item ",onClick:deleteMessage,children:(0,t.jsx)(u.ZP,{placement:"top",color:"invert",content:"Delete",children:(0,t.jsx)(m.Ovj,{size:22})})})}),g=a(87536),p=a(44080),v=a(84536),j=a(67294),f=a(89583);let EditMessageModal=e=>{var s,a,l,r;let{message:n}=e,[o,u]=(0,j.useState)(!1),m=(0,i.useRouter)(),h=m.pathname.includes("DirectMessages"),checkIfEdited=e=>{var s;null!==(s=e.content)&&void 0!==s&&s.includes(" *(edited)*")||(e.content+=" *(edited)*")},{register:x,handleSubmit:b}=(0,g.cI)({defaultValues:{content:null===(s=n.content)||void 0===s?void 0:s.replace(" *(edited)*",""),user:null===(a=n.user)||void 0===a?void 0:a.id}}),onSubmit=async e=>{try{checkIfEdited(e),h?(console.log("is dm path"),await c.bK.updateDirectMessage(n.id,e)):await c.lt.editMessage(n.id,e),u(!1)}catch(e){console.error("Edit Message",e)}};return(0,t.jsxs)("div",{className:"  group ",children:[(0,t.jsx)(f.fmQ,{size:22,onClick:()=>{u(!0)}}),(0,t.jsx)(p.u,{appear:!0,show:o,as:j.Fragment,children:(0,t.jsxs)(v.V,{as:"div",className:"relative z-10",onClose:()=>{u(!1)},children:[(0,t.jsx)(p.u.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,t.jsx)(p.u.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,t.jsxs)(v.V.Panel,{className:"  w-full max-w-screen-md rounded-md bg-zinc-900 p-2",children:[(0,t.jsxs)(v.V.Title,{as:"h3",className:"dialog-title",children:["Edit Message ",n.id]}),(0,t.jsxs)("form",{onSubmit:b(onSubmit),className:"create-server-form",children:[(0,t.jsx)("div",{className:"rounded-sm bg-zinc-800",children:(0,t.jsxs)("div",{className:"message group",children:[(0,t.jsx)("div",{className:"relative m-0 mb-auto ml-auto flex w-12 flex-col items-center",children:(0,t.jsx)("img",{className:"mx-0  mb-auto mt-0 h-12 w-12  cursor-pointer rounded-full bg-gray-100 object-cover object-top shadow-md shadow-zinc-500 dark:shadow-zinc-800",src:(null===(l=n.user)||void 0===l?void 0:l.avatarUrl)||"https://api.dicebear.com/5.x/bottts-neutral/svg",alt:"avatar",width:"40px"})}),(0,t.jsxs)("div",{className:"ml-auto flex w-4/5 flex-col items-start",children:[(0,t.jsxs)("p",{className:" font-bold  text-red-500",children:[null===(r=n.user)||void 0===r?void 0:r.username,(0,t.jsx)("small",{className:"ml-3 font-normal text-black dark:text-gray-300",children:(0,t.jsx)(d.Z,{datetime:n.created,locale:"en-US",style:{margin:5}})})]}),(0,t.jsx)("p",{className:"text-lg font-semibold dark:text-gray-300",children:(0,t.jsx)("textarea",{...x("content",{required:!0,minLength:1}),rows:4,cols:50,className:"peer m-2 block min-h-[auto] w-full rounded border-0 bg-zinc-700/20  px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-neutral-200 dark:placeholder:text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0 "})})]})]})}),(0,t.jsxs)("div",{className:" flex gap-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>u(!1),className:"rounded-md bg-purple-500 p-2 font-bold text-zinc-300 hover:bg-opacity-80",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"rounded-md bg-indigo-500 p-2 font-bold text-zinc-300 hover:bg-opacity-80",children:"Submit Edit"})]})]})]})})})})]})})]})};var b=(0,l.Pi)(e=>{let{message:s}=e;return(0,t.jsx)("div",{className:"message-options-icon  group/item",children:(0,t.jsx)(u.ZP,{content:"Edit",placement:"top",color:"invert",children:(0,t.jsx)(EditMessageModal,{message:s})})})}),y=a(68949),N=a(50535);let LikesService=class LikesService extends N.b{update(e){throw Error("Method not implemented.")}async getById(e,s){let a=n.a.user.id,t=await this.pb.getList(1,1,{filter:"".concat(s,' = "').concat(e,'" && user = "').concat(a,'"')});return t.items[0]}async getOne(e){return this.pb.getOne(e,{expand:"user"})}getAll(){throw Error("Method not implemented.")}async delete(e,s){await this.pb.delete(s),console.log("likeService.delete()")}async create(e,s){let a=await this.getById(e,s);if(a){let s=a.id;await this.delete(e,s),n.a.messages=n.a.messages.map(a=>{if(a.id===e){let e={...a};return e.expand["likes(message)"]&&(e.expand["likes(message)"]=e.expand["likes(message)"].filter(e=>e.id!==s)),e}return a});return}let t={user:this.user.id};"message"==s?t.message=e:t.directMessage=e;let l=await this.pb.create(t,{expand:"user"});if(l){n.a.messages=n.a.messages.map(s=>{if(s.id===e){let e={...s};return Array.isArray(e.expand["likes(message)"])||(e.expand["likes(message)"]=[]),e.expand["likes(message)"].push(l),e}return s});return}}addLikeOrReplaceToMessage(e,s){let a=n.a.messageLikes[s],t=null==a?void 0:a.findIndex(s=>s.id==e.id);a&&t&&(0,y.aD)(()=>{if(-1==t){n.a.messageLikes[s]=[...a,e];return}a[t]=e})()}filterLikeFromMessage(e,s){(0,y.aD)(()=>{let a=n.a.messageLikes[s];if(console.log(a),a){let t=a.filter(s=>s.id!==e.id);n.a.messageLikes[s]=t,console.log(n.a.messageLikes[s])}})()}};let w=new LikesService("Likes");var k=(0,l.Pi)(e=>{let{messageId:s}=e,a=(0,i.useRouter)(),l=a.pathname.includes("DirectMessages"),likeMessage=async()=>{try{if(l){await w.create(s,"directMessage");return}await w.create(s,"message")}catch(e){h.Z.error(e)}};return(0,t.jsx)("div",{className:"group/item message-options-icon",onClick:likeMessage,children:(0,t.jsx)(u.ZP,{content:"Like",color:"invert",placement:"top",children:(0,t.jsx)(f.spm,{size:22})})})}),M=a(39234),C=a(88669),S=a(8189),F=a(26671),utils_CodeBlock=e=>{let{language:s,value:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(S.Z,{style:F.FE,language:null!=s?s:void 0,wrapLongLines:!0,showLineNumbers:!0,children:a})})};let IsNewestMessage=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:" newest-message",children:(0,t.jsxs)("div",{className:"newest-message-container",children:["Newest Message",(0,t.jsx)("hr",{className:"  newest-message-line"})]})})}),MessageLikes=e=>{let{likes:s}=e;return(0,t.jsx)(u.ZP,{content:(0,t.jsxs)("div",{className:"message-like-tooltip-container",children:[(0,t.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1533/1533908.png",alt:"Thumbs Up Icon",className:"h-7 w-7 rounded-full"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:" w-full text-lg font-bold  text-indigo-400",children:"Thumbs Up By"}),(0,t.jsx)("div",{className:"flex flex-col overflow-y-scroll  ",children:s&&s.map((e,s)=>(0,t.jsx)("div",{className:" hover:text-shadow  my-0.5 rounded p-0.5  transition-all hover:text-gray-100  ",children:e.expand.user.username},s))})]})]}),color:"invert",children:(0,t.jsxs)("div",{className:"message-like-container group/like text-sm",children:[(0,t.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/1533/1533908.png",alt:"Thumbs Up Icon",className:"h-4 w-4 rounded-full"}),null==s?void 0:s.length]})})};var I=(0,l.Pi)(e=>{var s,a,l,i,r,c;let{message:u,index:m}=e,g=n.a.messageQuery,handleCopyClick=()=>{navigator.clipboard.writeText(function(e){let s=/```([\s\S]*)```/.exec(e);return s?s[1]:e}(u.content)),h.Z.success("Copied To Clipboard")};return(0,t.jsxs)("div",{className:""!=g?" message-filtered group ":" message    group  ",children:[(0,t.jsx)("div",{className:"message-user-avatar-status ",children:(0,t.jsx)(C.Z,{width:"w-12",height:"h-12",avatarUrl:null==u?void 0:null===(a=u.expand)||void 0===a?void 0:null===(s=a.user)||void 0===s?void 0:s.avatarUrl})}),(0,t.jsxs)("div",{className:" message-content      ",children:[(0,t.jsxs)("p",{className:" font-bold  text-red-500",children:[null===(l=u.expand)||void 0===l?void 0:l.user.username,(0,t.jsx)("small",{className:"message-timestamp",children:(0,t.jsx)(d.Z,{datetime:u.created,locale:"en-US",style:{margin:5}})})]}),(0,t.jsx)(o.D,{children:u.content,className:"markdown",rehypePlugins:[M.Z],linkTarget:"_blank",skipHtml:!0,components:{code:e=>{let{inline:s,className:a,children:l,...i}=e;return s?(0,t.jsx)("code",{className:"whitespace-normal text-gray-600 dark:text-zinc-300",children:l}):(0,t.jsxs)("div",{className:"markdown-container ",children:[(0,t.jsxs)("div",{className:" markdown-banner ",children:[(0,t.jsx)("span",{className:"language-label",children:a}),(0,t.jsx)("button",{onClick:handleCopyClick,className:"markdown-copy-btn",children:"Copy"})]}),(0,t.jsx)(utils_CodeBlock,{language:a&&a.replace(/language-/,""),value:l.toString(),...i})]})}}}),(null===(i=u.expand["likes(message)"])||void 0===i?void 0:i.length)>=1&&(0,t.jsx)(MessageLikes,{likes:u.expand["likes(message)"]})]}),0===m&&(0,t.jsx)(IsNewestMessage,{}),(0,t.jsx)("div",{className:"message-options",children:(0,t.jsx)("div",{className:"message-options-container",children:(null===(r=n.a.user)||void 0===r?void 0:r.id)!==(null===(c=u.user)||void 0===c?void 0:c.id)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{message:u}),(0,t.jsx)(x,{messageId:u.id})]}):(0,t.jsx)(k,{messageId:u.id})})})]})}),T=a(90617);let NoMessagesFoundInSearch=()=>(0,t.jsx)(t.Fragment,{children:""!=n.a.messageQuery&&0==n.a.messages.length&&(0,t.jsxs)("div",{className:"container flex h-full w-full flex-col items-center justify-center rounded  p-3 text-center text-xl text-gray-400",children:["No messages contain",(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:"my-2 font-bold text-gray-200",children:n.a.messageQuery}),"Refine Your search"]})});var L=(0,l.Pi)(()=>{let e=(0,i.useRouter)(),s=e.query.id,a=e.pathname.includes("DirectMessages"),l=a?n.a.directMessages:n.a.messages,fetchMore=async()=>{n.a.page++,a?await c.bK.getDirectMessages(n.a.dmRouterQuery):await c.lt.getMessagesByChannelId(s)};return(0,t.jsxs)("div",{id:"scrollableDiv2",className:"infinite-scroll-container  ".concat(""!=n.a.messageQuery?"infinite-scroll-container-search":""),children:[(0,t.jsx)(r.Z,{dataLength:l.length,next:fetchMore,className:"    flex flex-col-reverse pt-6 ",inverse:!0,hasMore:n.a.totalPages!=n.a.page,loader:l.length>=1&&(0,t.jsx)(T.Y,{}),scrollableTarget:"scrollableDiv2",children:l.map((e,s)=>{let a=new Date(e.created).toLocaleDateString(),i=new Date(Date.now()).toLocaleDateString(),r=s>0?new Date(l[s-1].created).toLocaleDateString():null;return(0,t.jsxs)("div",{children:[(0,t.jsx)(I,{message:e,index:s}),(0,t.jsx)("div",{children:a!==r&&a!==i&&(0,t.jsxs)("div",{className:"new-date",children:[(0,t.jsx)("hr",{className:"w-3/6  opacity-40"}),(0,t.jsx)("div",{className:" new-date-text",children:a}),(0,t.jsx)("hr",{className:"w-3/6  opacity-40"})]})})]},s)})}),(0,t.jsx)(NoMessagesFoundInSearch,{})]})})},88669:function(e,s,a){var t=a(85893);s.Z=e=>{let{avatarUrl:s,width:a,height:l}=e;return(0,t.jsx)("img",{src:s,alt:"User Avatar",className:"rounded-full ".concat(a," ").concat(l," object-cover shadow-md  ")})}},4445:function(e,s,a){var t=a(85893),l=a(61528),i=a(50828),r=a(89583),n=a(58444),c=a(88669),o=a(67294);s.Z=(0,i.Pi)(e=>{var s;let{user:a}=e,[i,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1);return a&&(0,t.jsxs)("div",{className:"group",children:[(0,t.jsx)("button",{onFocus:()=>{d(!i)},className:"user-bar group ",children:(0,t.jsxs)("div",{className:" user-bar-container",children:[(0,t.jsx)(c.Z,{avatarUrl:a.avatarUrl,height:"w-9",width:"h-9"}),(0,t.jsx)("div",{className:" truncate font-semibold  dark:text-white",children:null==a?void 0:a.username})]})}),(0,t.jsxs)("div",{className:"user-modal  ".concat(i?"scale-100":"scale-0"," "),children:[(0,t.jsx)("div",{className:"user-modal-banner"}),(0,t.jsx)("div",{className:"user-modal-user-image",children:(0,t.jsx)(c.Z,{avatarUrl:a.avatarUrl,height:"w-20",width:"h-20"})}),(0,t.jsxs)("div",{className:"mx-2 mt-16  rounded-md p-2 ",style:{backgroundColor:"#111214"},children:[(0,t.jsx)("p",{className:"p-2 text-xl",children:null==a?void 0:a.username}),(0,t.jsx)("hr",{className:"my-2  border-gray-600"}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"text-md font-bold ",children:"MEMBER SINCE"}),(0,t.jsx)("p",{className:"  font-mono text-gray-400  ",children:new Date(a.created).toLocaleDateString()})]}),(0,t.jsx)("hr",{className:"my-2  border-gray-600"}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)(l.ZP,{trigger:u?"click":"hover",content:u?"Copied!":"Copy to Clipboard",color:u?"success":"invert",visible:u,children:(0,t.jsxs)("div",{className:"  text-md group/item flex w-96 cursor-pointer justify-between rounded  p-2  ",onClick:e=>{var s;m(!0),setTimeout(()=>m(!1),1500),navigator.clipboard.writeText(a.username+"#"+(null===(s=n.a.userStatus)||void 0===s?void 0:s.id))},children:[a.username+"#"+(null===(s=n.a.userStatus)||void 0===s?void 0:s.id),(0,t.jsx)("div",{className:"opacity-0 group-hover/item:opacity-100",children:(0,t.jsx)(r.esY,{size:20,className:u?"text-emerald-500  00":""})})]})})}),(0,t.jsx)("div",{className:"",children:"LogOut"})]})]})]})})},15093:function(e,s,a){a.d(s,{Q:function(){return withAuth},k:function(){return withMember}});var t=a(85893),l=a(11163),i=a(67294),r=a(58444);let withAuth=e=>s=>{let a=(0,l.useRouter)(),n=r.a.user,checkAuth=async()=>{if(!n)return r.a.lastPath=a.asPath,a.push("/login")};return(0,i.useEffect)(()=>{checkAuth()},[a]),(0,t.jsx)(e,{...s})};a(72770);var n=a(31089);let withMember=e=>s=>{let a=(0,l.useRouter)(),c=a.query.id||r.a.lastQueryId,o=r.a.user,[d,u]=(0,i.useState)(!1),checkIsMember=async()=>{let e=await n.Cd.getUserMemberRecord({user:null==o?void 0:o.id,server:c});u(!!e)};return((0,i.useEffect)(()=>{c&&checkIsMember()},[c]),!1===d)?(0,t.jsx)("div",{children:"please join the server before trying"}):(0,t.jsx)(e,{...s})}}}]);