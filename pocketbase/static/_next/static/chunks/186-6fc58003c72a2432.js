"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{19524:function(e,s,t){t.d(s,{t:function(){return Y},Z:function(){return _}});var r=t(85893),a=t(67294),i=t(89583),n=t(50828),l=t(63750),o=t(50229),c=t(2059),d=t(45445),u=t(39675),h=t(61528),v=t(87536),m=t(79790);let x=e=>{var s;let{selection:t}=e;o.a.user;let a=null===(s=o.a.activeChannel)||void 0===s?void 0:s.title,n=async()=>{try{let e=o.a.user;if(!e){console.error("must be logged in");return}let s={memberId:null==e?void 0:e.id,channelId:null==t?void 0:t.id};o.a.messages=[],o.a.messageQuery="",await c.b.joinChannel(s),await d.l.getMessagesByChannelId(t.id)}catch(e){console.error(e)}};return(0,r.jsxs)("div",{className:"dropdown-selection  ".concat(t.title===a?"rounded bg-zinc-700 text-gray-300":"text-gray-500"),onClick:n,children:[(0,r.jsx)(l.nvr,{size:"24",className:"text-gray-400"}),(0,r.jsx)("h5",{className:"dropdown-selection-text ",children:t.title}),t.title==a&&"GeneralChat"!=t.title&&(0,r.jsx)("div",{className:"group relative",children:(0,r.jsx)(u.Z,{buttonIcon:(0,r.jsx)(h.ZP,{content:"Edit Channel",color:"invert",className:" font-bold",children:(0,r.jsx)(i.p4t,{size:15})}),title:"Edit Channel",children:(0,r.jsx)(j,{})})})]})},j=()=>{var e,s,t,a;let{register:i,handleSubmit:n,formState:{errors:l}}=(0,v.cI)({defaultValues:{members:null===(e=o.a.activeChannel)||void 0===e?void 0:e.members,messages:null===(s=o.a.activeChannel)||void 0===s?void 0:s.messages,title:null===(t=o.a.activeChannel)||void 0===t?void 0:t.title,server:null===(a=o.a.activeServer)||void 0===a?void 0:a.id}}),d=async e=>{try{var s;let t=null===(s=o.a.activeChannel)||void 0===s?void 0:s.id;await c.b.updateChannel(t,e)}catch(e){console.error(e)}},u=async()=>{try{var e;let s=await m.Z.confirm();if(!s)return;await c.b.deleteChannel(null===(e=o.a.activeChannel)||void 0===e?void 0:e.id)}catch(e){console.error(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:n(d),children:[(0,r.jsx)("label",{className:" block text-sm font-bold text-zinc-300",children:"Channel Title:"}),(0,r.jsx)("input",{className:"my-2",type:"text ",...i("title",{required:!0,minLength:1,maxLength:100})}),(0,r.jsx)("button",{className:"btn-primary",children:" Submit"})]}),(0,r.jsxs)("button",{className:"btn btn-secondary mt-2 ",onClick:u,children:["Delete Channel"," "]})]})};var p=(0,n.Pi)(x),f=t(64879),b=t(11163);let g=()=>{let e=o.a.user,s=o.a.activeServer,t=(0,b.useRouter)(),a=async()=>{try{if(!s&&!e){m.Z.error("unable to find server and user ids");return}let r={server:s.id,user:e.id},a=await m.Z.confirm("Leave ".concat(null==s?void 0:s.name),"Are You Sure?","question","Confirm");if(!a)return;await f.C.leaveServer(r),t.push("/"),m.Z.success("left Server")}catch(e){m.Z.error(e)}};return(0,r.jsxs)("button",{className:"server-options-selection",onClick:a,children:["Leave Server",(0,r.jsx)(i.dIY,{size:20})]})};var N=(0,n.Pi)(g),y=t(55726);let w=()=>{let e=(0,b.useRouter)(),s=e.query.id,t=o.a.activeServer,a=o.a.user,n=async()=>{try{let r=await m.Z.confirm();if(!r)return;console.log(null==t?void 0:t.owner,null==t?void 0:t.id),await y.u.DeleteServer(t.owner,s),e.push("/")}catch(e){m.Z.error(e)}};return(0,r.jsx)("div",{className:"w-full",children:(null==a?void 0:a.id)==(null==t?void 0:t.owner)?(0,r.jsxs)("button",{className:" server-options-selection",onClick:n,children:["Delete Server",(0,r.jsx)(i.i1q,{size:20})]}):(0,r.jsx)("div",{className:""})})};var C=(0,n.Pi)(w),S=t(85699);let k=()=>{var e;let[s,t]=(0,a.useState)(!1),{register:n,handleSubmit:l,watch:c,setValue:d,reset:h,formState:{errors:m}}=(0,v.cI)({defaultValues:{members:[],messages:[],title:"",server:null===(e=o.a.activeServer)||void 0===e?void 0:e.id}}),x=async e=>{try{await S.b_.createChannel(e),h(),t(!1)}catch(e){console.error(e)}};return(0,r.jsx)("button",{className:" server-options-selection",children:(0,r.jsx)(u.Z,{buttonIcon:(0,r.jsxs)("div",{className:"flex w-full  justify-between",children:["Create Channel",(0,r.jsx)(i.EIY,{size:20})]}),title:"Create Channel",children:(0,r.jsxs)("form",{onSubmit:l(x),className:"",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:" my-2 pl-8  ",type:"text",placeholder:"new-channel",...n("title",{required:!0,minLength:1,maxLength:50})}),(0,r.jsx)(i.qc7,{size:"20",className:"title-hashtag absolute top-[1.2rem]"})]}),(0,r.jsx)("button",{className:"btn-primary",type:"submit",children:"Submit"})]})})})};var Z=(0,n.Pi)(k);let z=()=>{let e=(0,b.useRouter)(),s=async()=>{let s=window.location.origin?window.location.origin:"",t="".concat(s,"/").concat(e.asPath,"/join");console.log(e,s),await navigator.clipboard.writeText(t),m.Z.toast("Copied To ClipBoard")};return(0,r.jsxs)("button",{className:" server-options-selection",onClick:s,children:["getLink",(0,r.jsx)(i.GON,{size:20})]})};var I=(0,n.Pi)(z);let P=()=>(0,r.jsx)("button",{className:" server-options-selection",children:(0,r.jsx)(u.Z,{buttonIcon:(0,r.jsxs)("div",{className:"flex w-full  justify-between",children:["SearchMembers",(0,r.jsx)(i.U41,{size:22})]}),title:"Search Members",children:(0,r.jsx)("div",{className:"",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Repellat, libero minima nobis eaque eos nemo vel dolore id perspiciatis similique beatae autem doloribus fugit consequatur quidem pariatur labore eum cum."})})});var q=(0,n.Pi)(P);let R=()=>{var e;let[s,t]=(0,a.useState)(!1),{register:n,handleSubmit:l,watch:c,setValue:d,reset:h,formState:{errors:m}}=(0,v.cI)({defaultValues:{members:[],messages:[],title:"",server:null===(e=o.a.activeServer)||void 0===e?void 0:e.id}});return(0,r.jsx)("button",{className:" server-options-selection",children:(0,r.jsx)(u.Z,{buttonIcon:(0,r.jsxs)("div",{className:"flex w-full  justify-between",children:["Server Guidelines",(0,r.jsx)(i.EIY,{size:18})]}),title:"Server Guidelines",children:(0,r.jsx)("div",{className:" p-2 dark:text-gray-300 text-gray-900 ",children:(0,r.jsxs)("ul",{className:" list-decimal",children:[(0,r.jsx)("li",{children:"Respect others: Treat other users with respect and refrain from using offensive language, hate speech, or any form of harassment or discrimination."}),(0,r.jsx)("li",{children:"Stay on topic: Keep conversations relevant to the chat's purpose and refrain from discussing inappropriate or off-topic subjects."}),(0,r.jsx)("li",{children:"No spamming: Do not flood the chat with repetitive messages or advertising, as this disrupts the flow of conversation."}),(0,r.jsx)("li",{children:"No trolling: Do not intentionally disrupt the chat or provoke others with the intention of causing harm or annoyance."}),(0,r.jsx)("li",{children:"Keep it legal: Do not engage in any illegal activities or discuss any illegal topics, as this could result in consequences for the chat and its users."}),(0,r.jsx)("li",{children:"Follow instructions: Follow the guidelines and instructions set by the chat moderators and administrators."}),(0,r.jsx)("li",{children:"No personal information: Do not share personal information, such as phone numbers, addresses, or passwords, in the chat."}),(0,r.jsx)("li",{children:"Keep it clean: Refrain from posting any explicit or inappropriate content that may be offensive or harmful to others."}),(0,r.jsx)("li",{children:"Use appropriate language: Use appropriate language and avoid excessive use of profanity or vulgar language."}),(0,r.jsx)("li",{children:"Report inappropriate behavior: If you witness any inappropriate behavior or content in the chat, report it to the moderators or administrators immediately."})]})})})})};var E=(0,n.Pi)(R),D=t(73560);let L=()=>{var e;let[s,t]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"relative ",children:[(0,r.jsxs)("button",{className:"server-options-btn py-[17px]",onClick:()=>t(!s),children:[null===(e=o.a.activeServer)||void 0===e?void 0:e.name,s?(0,r.jsx)(i.ZTc,{}):(0,r.jsx)(i.NWQ,{})]}),s&&(0,r.jsx)(U,{})]})},U=()=>{var e,s;let t=(null===(e=o.a.activeServer)||void 0===e?void 0:e.owner)===(null===(s=o.a.user)||void 0===s?void 0:s.id);return(0,r.jsx)("div",{className:"  server-options ",children:(0,r.jsxs)("div",{className:"server-options-container",children:[(0,r.jsx)(N,{}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{}),(0,r.jsx)(Z,{})]}),(0,r.jsx)(I,{}),(0,r.jsx)(q,{}),(0,r.jsx)(E,{})]})})};var T=(0,n.Pi)((0,D.k)(L)),M=t(20128);let A=()=>{let e=o.a.channels,s=o.a.user,[t,i]=(0,a.useState)(!0);return(0,r.jsxs)("div",{className:"channel-bar",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(T,{}),(0,r.jsx)("div",{className:"channel-container",children:(0,r.jsxs)("div",{className:"m-0 w-full px-2 pb-2 transition duration-300 ease-in-out",children:[(0,r.jsxs)("div",{onClick:()=>i(!t),className:"mx-0 flex cursor-pointer flex-row items-center  text-gray-500",children:[(0,r.jsx)(F,{expanded:t}),(0,r.jsx)("h5",{className:t?"text-lg font-bold text-indigo-500 text-opacity-90":"text-gray-500text-opacity-90  cursor-default  text-lg font-semibold",children:"Text Channels"})]}),t&&e&&e.map(e=>(0,r.jsx)(p,{selection:e},e.id))]})})]}),(0,r.jsx)(Y,{user:s})]})},F=e=>{let{expanded:s}=e;return s?(0,r.jsx)(i.RiI,{size:"14",className:"chevron-icon "}):(0,r.jsx)(i.Dli,{size:"14",className:"chevron-icon"})},Y=e=>{var s;let{user:t}=e,[n,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=()=>{l(!n)};return t&&(0,r.jsxs)("div",{className:"group",children:[(0,r.jsx)("button",{onFocus:u,className:"user-bar group ",children:(0,r.jsxs)("div",{className:" user-bar-container",children:[(0,r.jsx)(M.Z,{avatarUrl:t.avatarUrl,height:"w-9",width:"h-9"}),(0,r.jsx)("div",{className:" truncate font-semibold  text-white",children:null==t?void 0:t.username})]})}),(0,r.jsxs)("div",{className:"user-modal  ".concat(n?"scale-100":"scale-0"," "),children:[(0,r.jsx)("div",{className:"user-modal-banner"}),(0,r.jsx)("div",{className:"user-modal-user-image",children:(0,r.jsx)(M.Z,{avatarUrl:t.avatarUrl,height:"w-20",width:"h-20"})}),(0,r.jsxs)("div",{className:"mx-2 mt-16  rounded-md p-2 ",style:{backgroundColor:"#111214"},children:[(0,r.jsx)("p",{className:"p-2 text-xl",children:null==t?void 0:t.username}),(0,r.jsx)("hr",{className:"my-2  border-gray-600"}),(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsx)("p",{className:"text-md font-bold ",children:"MEMBER SINCE"}),(0,r.jsx)("p",{className:"  font-mono text-gray-400  ",children:new Date(t.created).toLocaleDateString()})]}),(0,r.jsx)("hr",{className:"my-2  border-gray-600"}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(h.ZP,{trigger:c?"click":"hover",content:c?"Copied!":"Copy to Clipboard",color:c?"success":"invert",visible:c,children:(0,r.jsxs)("div",{className:"  text-md group/item flex w-96 cursor-pointer justify-between rounded  p-2  ",onClick:e=>{var s;d(!0),setTimeout(()=>d(!1),1500),navigator.clipboard.writeText(t.username+"#"+(null===(s=o.a.userStatus)||void 0===s?void 0:s.id))},children:[t.username+"#"+(null===(s=o.a.userStatus)||void 0===s?void 0:s.id),(0,r.jsx)("div",{className:"opacity-0 group-hover/item:opacity-100",children:(0,r.jsx)(i.esY,{size:20,className:c?"text-green-5  00":""})})]})})}),(0,r.jsx)("div",{className:"",children:"LogOut"})]})]})]})};var _=(0,n.Pi)(A)},20128:function(e,s,t){var r=t(85893);let a=e=>{let{avatarUrl:s,width:t,height:a}=e;return(0,r.jsx)("img",{src:s,alt:"User Avatar",className:"rounded-full ".concat(t," ").concat(a," object-cover ")})};s.Z=a},37066:function(e,s,t){t.d(s,{Z:function(){return i}});var r=t(85893),a=t(89583);function i(e){let{status:s}=e;return(0,r.jsx)("div",{className:"absolute right-0 bottom-0 rounded-full border-[3px] border-zinc-800 shadow-md ",children:"online"===s?(0,r.jsx)(a.gbA,{color:"#22c55e",size:10}):"away"===s?(0,r.jsx)(a.gbA,{color:"#f0b232",size:10}):(0,r.jsx)(a.gbA,{color:"#ef4444",size:10})})}},73560:function(e,s,t){t.d(s,{Q:function(){return l},k:function(){return c}});var r=t(85893),a=t(11163),i=t(67294),n=t(50229);let l=e=>{let s=s=>{let t=(0,a.useRouter)(),l=n.a.user,o=async()=>{if(!l)return n.a.lastPath=t.asPath,t.push("/login")};return(0,i.useEffect)(()=>{o()},[t]),(0,r.jsx)(e,{...s})};return s};t(72770);var o=t(85699);let c=e=>{let s=s=>{let t=(0,a.useRouter)(),l=t.query.id||n.a.lastQueryId,c=n.a.user,[d,u]=(0,i.useState)(!1),h=async()=>{let e=await o.Cd.getUserMemberRecord({user:null==c?void 0:c.id,server:l});u(!!e)};return((0,i.useEffect)(()=>{l&&h()},[l]),!1===d)?(0,r.jsx)("div",{children:"please join the server before trying"}):(0,r.jsx)(e,{...s})};return s}}}]);